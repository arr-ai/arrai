{
 "apps": {
  "PetShopApi": {
   "name": {
    "part": [
     "PetShopApi"
    ]
   },
   "attrs": {
    "package": {
     "s": "io.sysl.demo.petshop.api"
    },
    "patterns": {
     "a": {
      "elt": [
       {
        "s": "rest"
       }
      ]
     }
    }
   },
   "endpoints": {
    "GET /petshop": {
     "name": "GET /petshop",
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "rest"
         }
        ]
       }
      }
     },
     "stmt": [
      {
       "ret": {
        "payload": "PetShop"
       }
      }
     ],
     "restParams": {
      "method": "GET",
      "path": "/petshop"
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 39,
       "col": 8
      },
      "end": {
       "line": 42,
       "col": 4
      }
     }
    }
   },
   "types": {
    "Breed": {
     "tuple": {
      "attrDefs": {
       "avgLifespan": {
        "primitive": "DECIMAL",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 56,
          "col": 23
         },
         "end": {
          "line": 56,
          "col": 30
         }
        }
       },
       "index": {
        "primitive": "INT",
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "xml_attribute"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 57,
          "col": 17
         },
         "end": {
          "line": 57,
          "col": 36
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 53,
          "col": 16
         },
         "end": {
          "line": 53,
          "col": 22
         }
        }
       },
       "pets": {
        "set": {
         "typeRef": {
          "context": {
           "appname": {
            "part": [
             "PetShopApi"
            ]
           },
           "path": [
            "Breed"
           ]
          },
          "ref": {
           "path": [
            "Pet"
           ]
          }
         },
         "sourceContext": {
          "file": "petshop.sysl",
          "start": {
           "line": 55,
           "col": 16
          },
          "end": {
           "line": 55,
           "col": 23
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 55,
          "col": 16
         },
         "end": {
          "line": 55,
          "col": 23
         }
        }
       },
       "species": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 54,
          "col": 19
         },
         "end": {
          "line": 54,
          "col": 25
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 52,
       "col": 4
      },
      "end": {
       "line": 59,
       "col": 4
      }
     }
    },
    "Employee": {
     "tuple": {
      "attrDefs": {
       "dob": {
        "primitive": "DATE",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 49,
          "col": 15
         },
         "end": {
          "line": 49,
          "col": 19
         }
        }
       },
       "index": {
        "primitive": "INT",
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "xml_attribute"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 50,
          "col": 17
         },
         "end": {
          "line": 50,
          "col": 36
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 48,
          "col": 16
         },
         "end": {
          "line": 48,
          "col": 22
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 47,
       "col": 4
      },
      "end": {
       "line": 52,
       "col": 4
      }
     }
    },
    "Pet": {
     "tuple": {
      "attrDefs": {
       "dob": {
        "primitive": "DATE",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 61,
          "col": 15
         },
         "end": {
          "line": 61,
          "col": 19
         }
        }
       },
       "legRank": {
        "primitive": "INT",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 63,
          "col": 19
         },
         "end": {
          "line": 63,
          "col": 19
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 60,
          "col": 16
         },
         "end": {
          "line": 60,
          "col": 22
         }
        }
       },
       "numLegs": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 62,
          "col": 19
         },
         "end": {
          "line": 62,
          "col": 22
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 59,
       "col": 4
      },
      "end": {
       "line": 66,
       "col": 17
      }
     }
    },
    "PetShop": {
     "tuple": {
      "attrDefs": {
       "breeds": {
        "set": {
         "typeRef": {
          "context": {
           "appname": {
            "part": [
             "PetShopApi"
            ]
           },
           "path": [
            "PetShop"
           ]
          },
          "ref": {
           "path": [
            "Breed"
           ]
          }
         },
         "sourceContext": {
          "file": "petshop.sysl",
          "start": {
           "line": 44,
           "col": 18
          },
          "end": {
           "line": 44,
           "col": 25
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 44,
          "col": 18
         },
         "end": {
          "line": 44,
          "col": 25
         }
        }
       },
       "employees": {
        "set": {
         "typeRef": {
          "context": {
           "appname": {
            "part": [
             "PetShopApi"
            ]
           },
           "path": [
            "PetShop"
           ]
          },
          "ref": {
           "path": [
            "Employee"
           ]
          }
         },
         "sourceContext": {
          "file": "petshop.sysl",
          "start": {
           "line": 43,
           "col": 21
          },
          "end": {
           "line": 43,
           "col": 28
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 43,
          "col": 21
         },
         "end": {
          "line": 43,
          "col": 28
         }
        }
       },
       "numLegs": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 45,
          "col": 19
         },
         "end": {
          "line": 45,
          "col": 22
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 42,
       "col": 4
      },
      "end": {
       "line": 47,
       "col": 4
      }
     }
    }
   },
   "sourceContext": {
    "file": "petshop.sysl",
    "start": {
     "line": 37,
     "col": 1
    },
    "end": {
     "line": 37,
     "col": 53
    }
   }
  },
  "PetShopApiToModel": {
   "name": {
    "part": [
     "PetShopApiToModel"
    ]
   },
   "attrs": {
    "package": {
     "s": "io.sysl.demo.petshop.views"
    }
   },
   "types": {
    "AnonType_0__": {
     "tuple": {
      "attrDefs": {
       "breed": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopApiToModel"
           ]
          },
          "path": [
           "AnonType_0__"
          ]
         },
         "ref": {
          "appname": {
           "part": [
            "PetShopModel"
           ]
          },
          "path": [
           "Breed"
          ]
         }
        }
       },
       "pets": {
        "set": {
         "typeRef": {
          "context": {
           "appname": {
            "part": [
             "PetShopApiToModel"
            ]
           },
           "path": [
            "AnonType_0__"
           ]
          },
          "ref": {
           "appname": {
            "part": [
             "PetShopModel"
            ]
           },
           "path": [
            "Pet"
           ]
          }
         }
        }
       }
      }
     }
    }
   },
   "views": {
    "apiToModel": {
     "param": [
      {
       "name": "petshop",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "PetShopApi"
           ]
          },
          "path": [
           "PetShop"
          ]
         }
        }
       }
      }
     ],
     "retType": {
      "typeRef": {
       "context": {
        "appname": {
         "part": [
          "PetShopApiToModel"
         ]
        }
       },
       "ref": {
        "appname": {
         "part": [
          "PetShopModel"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "petshop",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 123,
          "col": 8
         },
         "end": {
          "line": 123,
          "col": 8
         }
        }
       },
       "scopevar": ".",
       "stmt": [
        {
         "let": {
          "name": "_breedsAndPets",
          "expr": {
           "transform": {
            "arg": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 124,
                 "col": 33
                },
                "end": {
                 "line": 124,
                 "col": 34
                }
               }
              },
              "attr": "breeds"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 124,
               "col": 33
              },
              "end": {
               "line": 124,
               "col": 34
              }
             }
            },
            "scopevar": ".",
            "stmt": [
             {
              "let": {
               "name": "breedId",
               "expr": {
                "call": {
                 "func": "autoinc"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 125,
                  "col": 16
                 },
                 "end": {
                  "line": 125,
                  "col": 38
                 },
                 "text": "let breedId = autoinc()"
                }
               }
              }
             },
             {
              "assign": {
               "name": "breed",
               "expr": {
                "transform": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 127,
                    "col": 24
                   },
                   "end": {
                    "line": 131,
                    "col": 17
                   }
                  }
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "breedId",
                    "expr": {
                     "name": "breedId",
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 128,
                       "col": 20
                      },
                      "end": {
                       "line": 128,
                       "col": 30
                      },
                      "text": "breedId = breedId"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "species",
                    "expr": {
                     "getAttr": {
                      "arg": {
                       "name": ".",
                       "sourceContext": {
                        "file": "petshop.sysl",
                        "start": {
                         "line": 129,
                         "col": 30
                        },
                        "end": {
                         "line": 129,
                         "col": 31
                        }
                       }
                      },
                      "attr": "species"
                     },
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 129,
                       "col": 20
                      },
                      "end": {
                       "line": 129,
                       "col": 31
                      },
                      "text": "species = .species"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "breedName",
                    "expr": {
                     "getAttr": {
                      "arg": {
                       "name": ".",
                       "sourceContext": {
                        "file": "petshop.sysl",
                        "start": {
                         "line": 130,
                         "col": 32
                        },
                        "end": {
                         "line": 130,
                         "col": 33
                        }
                       }
                      },
                      "attr": "name"
                     },
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 130,
                       "col": 20
                      },
                      "end": {
                       "line": 130,
                       "col": 33
                      },
                      "text": "breedName = .name"
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "typeRef": {
                  "context": {
                   "appname": {
                    "part": [
                     "PetShopApiToModel"
                    ]
                   }
                  },
                  "ref": {
                   "appname": {
                    "part": [
                     "PetShopModel"
                    ]
                   },
                   "path": [
                    "Breed"
                   ]
                  }
                 }
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 127,
                  "col": 16
                 },
                 "end": {
                  "line": 131,
                  "col": 17
                 },
                 "text": "breed = -> <PetShopModel.Breed>(:\n                    breedId = breedId\n                    species = .species\n                    breedName = .name\n                )\n"
                }
               }
              }
             },
             {
              "assign": {
               "name": "pets",
               "expr": {
                "transform": {
                 "arg": {
                  "getAttr": {
                   "arg": {
                    "name": ".",
                    "sourceContext": {
                     "file": "petshop.sysl",
                     "start": {
                      "line": 133,
                      "col": 23
                     },
                     "end": {
                      "line": 133,
                      "col": 24
                     }
                    }
                   },
                   "attr": "pets"
                  },
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 133,
                    "col": 23
                   },
                   "end": {
                    "line": 133,
                    "col": 24
                   }
                  }
                 },
                 "scopevar": ".",
                 "stmt": [
                  {
                   "assign": {
                    "name": "petId",
                    "expr": {
                     "call": {
                      "func": "autoinc"
                     },
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 134,
                       "col": 20
                      },
                      "end": {
                       "line": 134,
                       "col": 36
                      },
                      "text": "petId = autoinc()"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "breedId",
                    "expr": {
                     "name": "breedId",
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 135,
                       "col": 20
                      },
                      "end": {
                       "line": 135,
                       "col": 30
                      },
                      "text": "breedId = breedId"
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "name",
                    "expr": {
                     "getAttr": {
                      "arg": {
                       "name": ".",
                       "sourceContext": {
                        "file": "petshop.sysl",
                        "start": {
                         "line": 136,
                         "col": 20
                        },
                        "end": {
                         "line": 136,
                         "col": 20
                        }
                       }
                      },
                      "attr": "name"
                     },
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 136,
                       "col": 20
                      },
                      "end": {
                       "line": 136,
                       "col": 20
                      }
                     }
                    }
                   }
                  },
                  {
                   "assign": {
                    "name": "dob",
                    "expr": {
                     "getAttr": {
                      "arg": {
                       "name": ".",
                       "sourceContext": {
                        "file": "petshop.sysl",
                        "start": {
                         "line": 137,
                         "col": 20
                        },
                        "end": {
                         "line": 137,
                         "col": 20
                        }
                       }
                      },
                      "attr": "dob"
                     },
                     "sourceContext": {
                      "file": "petshop.sysl",
                      "start": {
                       "line": 137,
                       "col": 20
                      },
                      "end": {
                       "line": 137,
                       "col": 20
                      }
                     }
                    }
                   }
                  }
                 ]
                },
                "type": {
                 "set": {
                  "typeRef": {
                   "context": {
                    "appname": {
                     "part": [
                      "PetShopApiToModel"
                     ]
                    }
                   },
                   "ref": {
                    "appname": {
                     "part": [
                      "PetShopModel"
                     ]
                    },
                    "path": [
                     "Pet"
                    ]
                   }
                  }
                 }
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 133,
                  "col": 16
                 },
                 "end": {
                  "line": 138,
                  "col": 17
                 },
                 "text": "pets = .pets -> <set of PetShopModel.Pet>(:\n                    petId = autoinc()\n                    breedId = breedId\n                    .name\n                    .dob\n                )\n"
                }
               }
              }
             }
            ]
           },
           "type": {
            "set": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "PetShopApiToModel"
                ]
               }
              },
              "ref": {
               "appname": {
                "part": [
                 "PetShopApiToModel"
                ]
               },
               "path": [
                "AnonType_0__"
               ]
              }
             }
            }
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 124,
             "col": 12
            },
            "end": {
             "line": 139,
             "col": 13
            },
            "text": "let _breedsAndPets = .breeds -> <set of>(:\n                let breedId = autoinc()\n\n                breed = -> <PetShopModel.Breed>(:\n                    breedId = breedId\n                    species = .species\n                    breedName = .name\n                )\n\n                pets = .pets -> <set of PetShopModel.Pet>(:\n                    petId = autoinc()\n                    breedId = breedId\n                    .name\n                    .dob\n                )\n            )\n"
           }
          }
         }
        },
        {
         "let": {
          "name": "breedsAndPets",
          "expr": {
           "relexpr": {
            "op": "SNAPSHOT",
            "target": {
             "name": "_breedsAndPets",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 141,
               "col": 32
              },
              "end": {
               "line": 141,
               "col": 32
              }
             }
            }
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 141,
             "col": 12
            },
            "end": {
             "line": 141,
             "col": 47
            },
            "text": "let breedsAndPets = _breedsAndPets snapshot"
           }
          }
         }
        },
        {
         "let": {
          "name": "minId1",
          "expr": {
           "relexpr": {
            "op": "MAX",
            "target": {
             "name": "breedsAndPets",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 143,
               "col": 25
              },
              "end": {
               "line": 143,
               "col": 25
              }
             }
            },
            "arg": [
             {
              "getAttr": {
               "arg": {
                "getAttr": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 143,
                    "col": 43
                   },
                   "end": {
                    "line": 143,
                    "col": 44
                   }
                  }
                 },
                 "attr": "breed"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 143,
                  "col": 43
                 },
                 "end": {
                  "line": 143,
                  "col": 44
                 }
                }
               },
               "attr": "breedId"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 143,
                "col": 49
               },
               "end": {
                "line": 143,
                "col": 50
               }
              }
             }
            ],
            "scopevar": "."
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 143,
             "col": 12
            },
            "end": {
             "line": 143,
             "col": 57
            },
            "text": "let minId1 = breedsAndPets max(.breed.breedId)"
           }
          }
         }
        },
        {
         "let": {
          "name": "minId2",
          "expr": {
           "relexpr": {
            "op": "MAX",
            "target": {
             "name": "breedsAndPets",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 144,
               "col": 25
              },
              "end": {
               "line": 144,
               "col": 25
              }
             }
            },
            "arg": [
             {
              "getAttr": {
               "arg": {
                "getAttr": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 144,
                    "col": 43
                   },
                   "end": {
                    "line": 144,
                    "col": 44
                   }
                  }
                 },
                 "attr": "breed"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 144,
                  "col": 43
                 },
                 "end": {
                  "line": 144,
                  "col": 44
                 }
                }
               },
               "attr": "breedId"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 144,
                "col": 49
               },
               "end": {
                "line": 144,
                "col": 50
               }
              }
             }
            ],
            "scopevar": "."
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 144,
             "col": 12
            },
            "end": {
             "line": 144,
             "col": 57
            },
            "text": "let minId2 = breedsAndPets max(.breed.breedId)"
           }
          }
         }
        },
        {
         "let": {
          "name": "lee",
          "expr": {
           "transform": {
            "arg": {
             "set": {
              "expr": [
               {
                "tuple": {},
                "type": {
                 "tuple": {}
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 146,
                  "col": 23
                 },
                 "end": {
                  "line": 146,
                  "col": 23
                 }
                }
               }
              ]
             },
             "type": {
              "set": {
               "tuple": {}
              }
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 146,
               "col": 22
              },
              "end": {
               "line": 146,
               "col": 26
              }
             }
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "name",
               "expr": {
                "literal": {
                 "s": "Bruce"
                },
                "type": {
                 "primitive": "STRING"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 147,
                  "col": 16
                 },
                 "end": {
                  "line": 147,
                  "col": 23
                 },
                 "text": "name = \"Bruce\""
                }
               }
              }
             }
            ]
           },
           "type": {
            "set": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "PetShopApiToModel"
                ]
               }
              },
              "ref": {
               "appname": {
                "part": [
                 "PetShopModel"
                ]
               },
               "path": [
                "Employee"
               ]
              }
             }
            }
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 146,
             "col": 12
            },
            "end": {
             "line": 148,
             "col": 13
            },
            "text": "let lee = {{:}} -> <set of PetShopModel.Employee>(:\n                name = \"Bruce\"\n            )\n"
           }
          }
         }
        },
        {
         "let": {
          "name": "leeless",
          "expr": {
           "unexpr": {
            "op": "NOT",
            "arg": {
             "name": "lee",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 150,
               "col": 27
              },
              "end": {
               "line": 150,
               "col": 27
              }
             }
            }
           },
           "type": {
            "primitive": "BOOL"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 150,
             "col": 12
            },
            "end": {
             "line": 150,
             "col": 27
            },
            "text": "let leeless = !lee"
           }
          }
         }
        },
        {
         "let": {
          "name": "decimal1",
          "expr": {
           "literal": {
            "decimal": "1.2"
           },
           "type": {
            "primitive": "DECIMAL"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 152,
             "col": 12
            },
            "end": {
             "line": 152,
             "col": 27
            },
            "text": "let decimal1 = 1.2"
           }
          }
         }
        },
        {
         "let": {
          "name": "decimal2",
          "expr": {
           "literal": {
            "decimal": "2.3"
           },
           "type": {
            "primitive": "DECIMAL"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 153,
             "col": 12
            },
            "end": {
             "line": 153,
             "col": 27
            },
            "text": "let decimal2 = 2.3"
           }
          }
         }
        },
        {
         "let": {
          "name": "decimal3",
          "expr": {
           "binexpr": {
            "op": "ADD",
            "lhs": {
             "unexpr": {
              "op": "POS",
              "arg": {
               "name": "decimal1",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 154,
                 "col": 28
                },
                "end": {
                 "line": 154,
                 "col": 28
                }
               }
              }
             },
             "type": {
              "primitive": "INT"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 154,
               "col": 27
              },
              "end": {
               "line": 154,
               "col": 28
              }
             }
            },
            "rhs": {
             "name": "decimal2",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 154,
               "col": 39
              },
              "end": {
               "line": 154,
               "col": 39
              }
             }
            }
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 154,
             "col": 12
            },
            "end": {
             "line": 154,
             "col": 39
            },
            "text": "let decimal3 = +decimal1 + decimal2"
           }
          }
         }
        },
        {
         "let": {
          "name": "one_third",
          "expr": {
           "binexpr": {
            "op": "DIV",
            "lhs": {
             "literal": {
              "decimal": "1.0"
             },
             "type": {
              "primitive": "DECIMAL"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 156,
               "col": 28
              },
              "end": {
               "line": 156,
               "col": 28
              }
             }
            },
            "rhs": {
             "literal": {
              "decimal": "3.0"
             },
             "type": {
              "primitive": "DECIMAL"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 156,
               "col": 34
              },
              "end": {
               "line": 156,
               "col": 34
              }
             }
            }
           },
           "type": {
            "primitive": "DECIMAL"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 156,
             "col": 12
            },
            "end": {
             "line": 156,
             "col": 34
            },
            "text": "let one_third = 1.0 / 3.0"
           }
          }
         }
        },
        {
         "let": {
          "name": "one_ninth",
          "expr": {
           "binexpr": {
            "op": "POW",
            "lhs": {
             "name": "one_third",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 157,
               "col": 28
              },
              "end": {
               "line": 157,
               "col": 28
              }
             }
            },
            "rhs": {
             "literal": {
              "i": "2"
             },
             "type": {
              "primitive": "INT"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 157,
               "col": 41
              },
              "end": {
               "line": 157,
               "col": 41
              }
             }
            }
           },
           "type": {
            "primitive": "INT"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 157,
             "col": 12
            },
            "end": {
             "line": 157,
             "col": 41
            },
            "text": "let one_ninth = one_third ** 2"
           }
          }
         }
        },
        {
         "let": {
          "name": "bruce_lee",
          "expr": {
           "binexpr": {
            "op": "ADD",
            "lhs": {
             "getAttr": {
              "arg": {
               "unexpr": {
                "op": "SINGLE_OR_NULL",
                "arg": {
                 "name": "lee",
                 "sourceContext": {
                  "file": "petshop.sysl",
                  "start": {
                   "line": 161,
                   "col": 28
                  },
                  "end": {
                   "line": 161,
                   "col": 28
                  }
                 }
                }
               },
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 161,
                 "col": 32
                },
                "end": {
                 "line": 161,
                 "col": 32
                }
               }
              },
              "attr": "name",
              "nullsafe": true
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 161,
               "col": 44
              },
              "end": {
               "line": 161,
               "col": 46
              }
             }
            },
            "rhs": {
             "call": {
              "func": "substr",
              "arg": [
               {
                "literal": {
                 "s": " Leek"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 161,
                  "col": 60
                 },
                 "end": {
                  "line": 161,
                  "col": 60
                 }
                }
               },
               {
                "literal": {
                 "i": "0"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 161,
                  "col": 69
                 },
                 "end": {
                  "line": 161,
                  "col": 69
                 }
                }
               },
               {
                "literal": {
                 "i": "4"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 161,
                  "col": 72
                 },
                 "end": {
                  "line": 161,
                  "col": 72
                 }
                }
               }
              ]
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 161,
               "col": 53
              },
              "end": {
               "line": 161,
               "col": 73
              },
              "text": "substr(\" Leek\", 0, 4)"
             }
            }
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 161,
             "col": 12
            },
            "end": {
             "line": 161,
             "col": 73
            },
            "text": "let bruce_lee = lee singleOrNull?.name + substr(\" Leek\", 0, 4)"
           }
          }
         }
        },
        {
         "assign": {
          "name": "Employee",
          "expr": {
           "transform": {
            "arg": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 163,
                 "col": 32
                },
                "end": {
                 "line": 163,
                 "col": 33
                }
               }
              },
              "attr": "employees"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 163,
               "col": 32
              },
              "end": {
               "line": 163,
               "col": 33
              }
             }
            },
            "scopevar": ".",
            "stmt": [
             {
              "assign": {
               "name": "employeeId",
               "expr": {
                "call": {
                 "func": "autoinc"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 164,
                  "col": 16
                 },
                 "end": {
                  "line": 164,
                  "col": 37
                 },
                 "text": "employeeId = autoinc()"
                }
               }
              }
             },
             {
              "assign": {
               "name": "name",
               "expr": {
                "getAttr": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 165,
                    "col": 16
                   },
                   "end": {
                    "line": 165,
                    "col": 16
                   }
                  }
                 },
                 "attr": "name"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 165,
                  "col": 16
                 },
                 "end": {
                  "line": 165,
                  "col": 16
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "dob",
               "expr": {
                "getAttr": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 166,
                    "col": 16
                   },
                   "end": {
                    "line": 166,
                    "col": 16
                   }
                  }
                 },
                 "attr": "dob"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 166,
                  "col": 16
                 },
                 "end": {
                  "line": 166,
                  "col": 16
                 }
                }
               }
              }
             },
             {
              "assign": {
               "name": "error",
               "expr": {
                "binexpr": {
                 "op": "SUB",
                 "lhs": {
                  "name": "minId2",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 167,
                    "col": 24
                   },
                   "end": {
                    "line": 167,
                    "col": 24
                   }
                  }
                 },
                 "rhs": {
                  "name": "minId1",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 167,
                    "col": 33
                   },
                   "end": {
                    "line": 167,
                    "col": 33
                   }
                  }
                 }
                },
                "type": {
                 "noType": {}
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 167,
                  "col": 16
                 },
                 "end": {
                  "line": 167,
                  "col": 33
                 },
                 "text": "error = minId2 - minId1"
                }
               }
              }
             }
            ]
           },
           "type": {
            "set": {
             "typeRef": {
              "context": {
               "appname": {
                "part": [
                 "PetShopApiToModel"
                ]
               }
              },
              "ref": {
               "appname": {
                "part": [
                 "PetShopModel"
                ]
               },
               "path": [
                "Employee"
               ]
              }
             }
            }
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 163,
             "col": 32
            },
            "end": {
             "line": 168,
             "col": 13
            }
           }
          },
          "table": true
         }
        },
        {
         "assign": {
          "name": "Breed",
          "expr": {
           "navigate": {
            "arg": {
             "name": "breedsAndPets",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 169,
               "col": 29
              },
              "end": {
               "line": 169,
               "col": 29
              }
             }
            },
            "attr": ".breed",
            "setof": true
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 169,
             "col": 43
            },
            "end": {
             "line": 169,
             "col": 54
            }
           }
          },
          "table": true
         }
        },
        {
         "assign": {
          "name": "Pet",
          "expr": {
           "binexpr": {
            "op": "FLATTEN",
            "lhs": {
             "name": "breedsAndPets",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 170,
               "col": 27
              },
              "end": {
               "line": 170,
               "col": 27
              }
             }
            },
            "rhs": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 170,
                 "col": 49
                },
                "end": {
                 "line": 170,
                 "col": 50
                }
               }
              },
              "attr": "pets"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 170,
               "col": 49
              },
              "end": {
               "line": 170,
               "col": 50
              }
             }
            },
            "scopevar": "."
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 170,
             "col": 41
            },
            "end": {
             "line": 170,
             "col": 41
            }
           }
          },
          "table": true
         }
        }
       ]
      },
      "type": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "PetShopApiToModel"
          ]
         }
        },
        "ref": {
         "appname": {
          "part": [
           "PetShopModel"
          ]
         }
        }
       }
      },
      "sourceContext": {
       "file": "petshop.sysl",
       "start": {
        "line": 123,
        "col": 8
       },
       "end": {
        "line": 171,
        "col": 9
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 122,
       "col": 4
      },
      "end": {
       "line": 172
      },
      "text": "!view apiToModel(petshop <: PetShopApi.PetShop):"
     }
    }
   },
   "sourceContext": {
    "file": "petshop.sysl",
    "start": {
     "line": 121,
     "col": 1
    },
    "end": {
     "line": 121,
     "col": 55
    }
   }
  },
  "PetShopFacade": {
   "name": {
    "part": [
     "PetShopFacade"
    ]
   },
   "attrs": {
    "package": {
     "s": "io.sysl.demo.petshop.facade"
    }
   },
   "wrapped": {
    "name": {
     "part": [
      "PetShopModel"
     ]
    },
    "types": {
     "Breed": {},
     "Employee": {},
     "EmployeeTendsPet": {},
     "Pet": {}
    }
   },
   "sourceContext": {
    "file": "petshop.sysl",
    "start": {
     "line": 29,
     "col": 1
    },
    "end": {
     "line": 29,
     "col": 52
    }
   }
  },
  "PetShopModel": {
   "name": {
    "part": [
     "PetShopModel"
    ]
   },
   "attrs": {
    "package": {
     "s": "io.sysl.demo.petshop.model"
    }
   },
   "types": {
    "Breed": {
     "relation": {
      "attrDefs": {
       "avgLifespan": {
        "primitive": "DECIMAL",
        "constraint": [
         {
          "length": {
           "max": "14"
          },
          "precision": 14,
          "scale": 2
         }
        ],
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 13,
          "col": 23
         },
         "end": {
          "line": 13,
          "col": 36
         }
        }
       },
       "avgWeight": {
        "primitive": "DECIMAL",
        "constraint": [
         {
          "length": {
           "max": "14"
          }
         }
        ],
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 14,
          "col": 21
         },
         "end": {
          "line": 14,
          "col": 32
         }
        }
       },
       "breedId": {
        "primitive": "INT",
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "pk"
            },
            {
             "s": "autoinc"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 9,
          "col": 19
         },
         "end": {
          "line": 9,
          "col": 37
         }
        }
       },
       "breedName": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 10,
          "col": 21
         },
         "end": {
          "line": 10,
          "col": 27
         }
        }
       },
       "legRank": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 15,
          "col": 19
         },
         "end": {
          "line": 15,
          "col": 22
         }
        }
       },
       "numLegs": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 12,
          "col": 19
         },
         "end": {
          "line": 12,
          "col": 22
         }
        }
       },
       "species": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 11,
          "col": 19
         },
         "end": {
          "line": 11,
          "col": 25
         }
        }
       }
      },
      "primaryKey": {
       "attrName": [
        "breedId"
       ]
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 8,
       "col": 4
      },
      "end": {
       "line": 17,
       "col": 4
      }
     }
    },
    "Employee": {
     "relation": {
      "attrDefs": {
       "dob": {
        "primitive": "DATE",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 5,
          "col": 15
         },
         "end": {
          "line": 5,
          "col": 19
         }
        }
       },
       "employeeId": {
        "primitive": "INT",
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "pk"
            },
            {
             "s": "autoinc"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 3,
          "col": 22
         },
         "end": {
          "line": 3,
          "col": 40
         }
        }
       },
       "error": {
        "primitive": "INT",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 6,
          "col": 17
         },
         "end": {
          "line": 6,
          "col": 17
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 4,
          "col": 16
         },
         "end": {
          "line": 4,
          "col": 22
         }
        }
       }
      },
      "primaryKey": {
       "attrName": [
        "employeeId"
       ]
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 2,
       "col": 4
      },
      "end": {
       "line": 8,
       "col": 4
      }
     }
    },
    "EmployeeTendsPet": {
     "relation": {
      "attrDefs": {
       "employeeId": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModel"
           ]
          },
          "path": [
           "EmployeeTendsPet"
          ]
         },
         "ref": {
          "path": [
           "Employee",
           "employeeId"
          ]
         }
        },
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "pk"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 25,
          "col": 22
         },
         "end": {
          "line": 25,
          "col": 46
         }
        }
       },
       "petId": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModel"
           ]
          },
          "path": [
           "EmployeeTendsPet"
          ]
         },
         "ref": {
          "path": [
           "Pet",
           "petId"
          ]
         }
        },
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "pk"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 26,
          "col": 17
         },
         "end": {
          "line": 26,
          "col": 31
         }
        }
       }
      },
      "primaryKey": {
       "attrName": [
        "employeeId",
        "petId"
       ]
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 24,
       "col": 4
      },
      "end": {
       "line": 29,
       "col": 13
      }
     }
    },
    "Pet": {
     "relation": {
      "attrDefs": {
       "breedId": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModel"
           ]
          },
          "path": [
           "Pet"
          ]
         },
         "ref": {
          "path": [
           "Breed",
           "breedId"
          ]
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 19,
          "col": 19
         },
         "end": {
          "line": 19,
          "col": 25
         }
        }
       },
       "dob": {
        "primitive": "DATE",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 21,
          "col": 15
         },
         "end": {
          "line": 21,
          "col": 19
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 20,
          "col": 16
         },
         "end": {
          "line": 20,
          "col": 22
         }
        }
       },
       "numLegs": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 22,
          "col": 19
         },
         "end": {
          "line": 22,
          "col": 22
         }
        }
       },
       "petId": {
        "primitive": "INT",
        "attrs": {
         "patterns": {
          "a": {
           "elt": [
            {
             "s": "pk"
            },
            {
             "s": "autoinc"
            }
           ]
          }
         }
        },
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 18,
          "col": 17
         },
         "end": {
          "line": 18,
          "col": 35
         }
        }
       }
      },
      "primaryKey": {
       "attrName": [
        "petId"
       ]
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 17,
       "col": 4
      },
      "end": {
       "line": 24,
       "col": 4
      }
     }
    }
   },
   "sourceContext": {
    "file": "petshop.sysl",
    "start": {
     "line": 1,
     "col": 1
    },
    "end": {
     "line": 1,
     "col": 50
    }
   }
  },
  "PetShopModelToApi": {
   "name": {
    "part": [
     "PetShopModelToApi"
    ]
   },
   "attrs": {
    "package": {
     "s": "io.sysl.demo.petshop.views"
    }
   },
   "types": {
    "PetRankedByLeg": {
     "tuple": {
      "attrDefs": {
       "breedId": {
        "primitive": "INT",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 114,
          "col": 19
         },
         "end": {
          "line": 114,
          "col": 19
         }
        }
       },
       "dob": {
        "primitive": "DATE",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 116,
          "col": 15
         },
         "end": {
          "line": 116,
          "col": 19
         }
        }
       },
       "legRank": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 118,
          "col": 19
         },
         "end": {
          "line": 118,
          "col": 22
         }
        }
       },
       "name": {
        "primitive": "STRING",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 115,
          "col": 16
         },
         "end": {
          "line": 115,
          "col": 22
         }
        }
       },
       "numLegs": {
        "primitive": "INT",
        "opt": true,
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 117,
          "col": 19
         },
         "end": {
          "line": 117,
          "col": 22
         }
        }
       },
       "petId": {
        "primitive": "INT",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 113,
          "col": 17
         },
         "end": {
          "line": 113,
          "col": 17
         }
        }
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 112,
       "col": 4
      },
      "end": {
       "line": 121,
       "col": 17
      }
     }
    }
   },
   "views": {
    "breedToApi": {
     "param": [
      {
       "name": "breed",
       "type": {
        "set": {
         "typeRef": {
          "ref": {
           "appname": {
            "part": [
             "PetShopModel"
            ]
           },
           "path": [
            "Breed"
           ]
          }
         }
        }
       }
      },
      {
       "name": "pet",
       "type": {
        "set": {
         "typeRef": {
          "ref": {
           "appname": {
            "part": [
             "PetShopModelToApi"
            ]
           },
           "path": [
            "PetRankedByLeg"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "set": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "PetShopModelToApi"
          ]
         }
        },
        "ref": {
         "appname": {
          "part": [
           "PetShopApi"
          ]
         },
         "path": [
          "Breed"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "breed",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 94,
          "col": 8
         },
         "end": {
          "line": 94,
          "col": 8
         }
        }
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "name",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 95,
               "col": 19
              },
              "end": {
               "line": 95,
               "col": 20
              }
             }
            },
            "attr": "breedName"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 95,
             "col": 12
            },
            "end": {
             "line": 95,
             "col": 20
            },
            "text": "name = .breedName"
           }
          }
         }
        },
        {
         "assign": {
          "name": "species",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 96,
               "col": 12
              },
              "end": {
               "line": 96,
               "col": 12
              }
             }
            },
            "attr": "species"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 96,
             "col": 12
            },
            "end": {
             "line": 96,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "pets",
          "expr": {
           "call": {
            "func": "petToApi",
            "arg": [
             {
              "binexpr": {
               "op": "TO_MATCHING",
               "lhs": {
                "navigate": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 97,
                    "col": 28
                   },
                   "end": {
                    "line": 97,
                    "col": 38
                   }
                  }
                 },
                 "attr": "Pet",
                 "setof": true
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 97,
                  "col": 28
                 },
                 "end": {
                  "line": 97,
                  "col": 38
                 }
                }
               },
               "rhs": {
                "name": "pet",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 97,
                  "col": 52
                 },
                 "end": {
                  "line": 97,
                  "col": 52
                 }
                }
               },
               "attrName": [
                "petId"
               ]
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 97,
                "col": 42
               },
               "end": {
                "line": 97,
                "col": 52
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 97,
             "col": 12
            },
            "end": {
             "line": 97,
             "col": 55
            },
            "text": "pets = petToApi(-> set of Pet ~[petId]> pet)"
           }
          }
         }
        },
        {
         "assign": {
          "name": "avgLifespan",
          "expr": {
           "unexpr": {
            "op": "NEG",
            "arg": {
             "literal": {
              "decimal": "1.0"
             },
             "type": {
              "primitive": "DECIMAL"
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 98,
               "col": 27
              },
              "end": {
               "line": 98,
               "col": 27
              }
             }
            }
           },
           "type": {
            "primitive": "INT"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 98,
             "col": 12
            },
            "end": {
             "line": 98,
             "col": 27
            },
            "text": "avgLifespan = -1.0"
           }
          }
         }
        },
        {
         "assign": {
          "name": "index",
          "expr": {
           "call": {
            "func": "autoinc",
            "arg": [
             {
              "literal": {
               "s": "Breed"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 99,
                "col": 28
               },
               "end": {
                "line": 99,
                "col": 28
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 99,
             "col": 12
            },
            "end": {
             "line": 99,
             "col": 35
            },
            "text": "index = autoinc(\"Breed\")"
           }
          }
         }
        }
       ]
      },
      "type": {
       "set": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModelToApi"
           ]
          }
         },
         "ref": {
          "appname": {
           "part": [
            "PetShopApi"
           ]
          },
          "path": [
           "Breed"
          ]
         }
        }
       }
      },
      "sourceContext": {
       "file": "petshop.sysl",
       "start": {
        "line": 94,
        "col": 8
       },
       "end": {
        "line": 100,
        "col": 9
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 93,
       "col": 4
      },
      "end": {
       "line": 102,
       "col": 4
      },
      "text": "!view breedToApi(breed <: set of PetShopModel.Breed, pet <: set of PetShopModelToApi.PetRankedByLeg):"
     }
    },
    "employeeToApi": {
     "param": [
      {
       "name": "employee",
       "type": {
        "set": {
         "typeRef": {
          "ref": {
           "appname": {
            "part": [
             "PetShopModel"
            ]
           },
           "path": [
            "Employee"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "set": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "PetShopModelToApi"
          ]
         }
        },
        "ref": {
         "appname": {
          "part": [
           "PetShopApi"
          ]
         },
         "path": [
          "Employee"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "employee",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 87,
          "col": 8
         },
         "end": {
          "line": 87,
          "col": 8
         }
        }
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "name",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 88,
               "col": 12
              },
              "end": {
               "line": 88,
               "col": 12
              }
             }
            },
            "attr": "name"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 88,
             "col": 12
            },
            "end": {
             "line": 88,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "dob",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 89,
               "col": 12
              },
              "end": {
               "line": 89,
               "col": 12
              }
             }
            },
            "attr": "dob"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 89,
             "col": 12
            },
            "end": {
             "line": 89,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "index",
          "expr": {
           "call": {
            "func": "autoinc",
            "arg": [
             {
              "literal": {
               "s": "Employee"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 90,
                "col": 28
               },
               "end": {
                "line": 90,
                "col": 28
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 90,
             "col": 12
            },
            "end": {
             "line": 90,
             "col": 38
            },
            "text": "index = autoinc(\"Employee\")"
           }
          }
         }
        }
       ]
      },
      "type": {
       "set": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModelToApi"
           ]
          }
         },
         "ref": {
          "appname": {
           "part": [
            "PetShopApi"
           ]
          },
          "path": [
           "Employee"
          ]
         }
        }
       }
      },
      "sourceContext": {
       "file": "petshop.sysl",
       "start": {
        "line": 87,
        "col": 8
       },
       "end": {
        "line": 91,
        "col": 9
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 86,
       "col": 4
      },
      "end": {
       "line": 93,
       "col": 4
      },
      "text": "!view employeeToApi(employee <: set of PetShopModel.Employee):"
     }
    },
    "fibonacci": {
     "param": [
      {
       "name": "n",
       "type": {
        "primitive": "INT"
       }
      }
     ],
     "retType": {
      "primitive": "INT"
     },
     "attrs": {
      "patterns": {
       "a": {
        "elt": [
         {
          "s": "abstract"
         }
        ]
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 110,
       "col": 4
      },
      "end": {
       "line": 110,
       "col": 37
      },
      "text": "!view fibonacci(n <: int) -> int [~abstract]"
     }
    },
    "modelToApi": {
     "param": [
      {
       "name": "petshop",
       "type": {
        "typeRef": {
         "ref": {
          "appname": {
           "part": [
            "PetShopModel"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "typeRef": {
       "context": {
        "appname": {
         "part": [
          "PetShopModelToApi"
         ]
        }
       },
       "ref": {
        "appname": {
         "part": [
          "PetShopApi"
         ]
        },
        "path": [
         "PetShop"
        ]
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "petshop",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 68,
          "col": 8
         },
         "end": {
          "line": 68,
          "col": 8
         }
        }
       },
       "scopevar": ".",
       "stmt": [
        {
         "let": {
          "name": "rankedPets",
          "expr": {
           "relexpr": {
            "op": "RANK",
            "target": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 69,
                 "col": 29
                },
                "end": {
                 "line": 69,
                 "col": 39
                }
               }
              },
              "attr": "Pet",
              "setof": true
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 69,
               "col": 29
              },
              "end": {
               "line": 69,
               "col": 39
              }
             }
            },
            "arg": [
             {
              "getAttr": {
               "arg": {
                "name": ".",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 69,
                  "col": 82
                 },
                 "end": {
                  "line": 69,
                  "col": 83
                 }
                }
               },
               "attr": "numLegs"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 69,
                "col": 82
               },
               "end": {
                "line": 69,
                "col": 83
               }
              }
             },
             {
              "getAttr": {
               "arg": {
                "name": ".",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 69,
                  "col": 82
                 },
                 "end": {
                  "line": 69,
                  "col": 83
                 }
                }
               },
               "attr": "numLegs"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 69,
                "col": 82
               },
               "end": {
                "line": 69,
                "col": 83
               }
              }
             }
            ],
            "scopevar": ".",
            "descending": [
             false
            ],
            "attrName": [
             "legRank"
            ]
           },
           "type": {
            "set": {
             "typeRef": {
              "ref": {
               "appname": {
                "part": [
                 "PetShopModelToApi"
                ]
               },
               "path": [
                "PetRankedByLeg"
               ]
              }
             }
            }
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 69,
             "col": 12
            },
            "end": {
             "line": 69,
             "col": 101
            },
            "text": "let rankedPets = .table of Pet rank<PetShopModelToApi.PetRankedByLeg>(.numLegs as legRank)"
           }
          }
         }
        },
        {
         "assign": {
          "name": "employees",
          "expr": {
           "call": {
            "func": "employeeToApi",
            "arg": [
             {
              "getAttr": {
               "arg": {
                "name": ".",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 71,
                  "col": 38
                 },
                 "end": {
                  "line": 71,
                  "col": 48
                 }
                }
               },
               "attr": "Employee",
               "setof": true
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 71,
                "col": 38
               },
               "end": {
                "line": 71,
                "col": 48
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 71,
             "col": 12
            },
            "end": {
             "line": 71,
             "col": 56
            },
            "text": "employees = employeeToApi(.table of Employee)"
           }
          }
         }
        },
        {
         "assign": {
          "name": "breeds",
          "expr": {
           "call": {
            "func": "breedToApi",
            "arg": [
             {
              "getAttr": {
               "arg": {
                "name": ".",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 72,
                  "col": 32
                 },
                 "end": {
                  "line": 72,
                  "col": 42
                 }
                }
               },
               "attr": "Breed",
               "setof": true
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 72,
                "col": 32
               },
               "end": {
                "line": 72,
                "col": 42
               }
              }
             },
             {
              "name": "rankedPets",
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 72,
                "col": 49
               },
               "end": {
                "line": 72,
                "col": 49
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 72,
             "col": 12
            },
            "end": {
             "line": 72,
             "col": 59
            },
            "text": "breeds = breedToApi(.table of Breed, rankedPets)"
           }
          }
         }
        },
        {
         "assign": {
          "name": "numLegs",
          "expr": {
           "relexpr": {
            "op": "SUM",
            "target": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 73,
                 "col": 22
                },
                "end": {
                 "line": 73,
                 "col": 32
                }
               }
              },
              "attr": "Pet",
              "setof": true
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 73,
               "col": 22
              },
              "end": {
               "line": 73,
               "col": 32
              }
             }
            },
            "arg": [
             {
              "binexpr": {
               "op": "COALESCE",
               "lhs": {
                "getAttr": {
                 "arg": {
                  "name": ".",
                  "sourceContext": {
                   "file": "petshop.sysl",
                   "start": {
                    "line": 73,
                    "col": 40
                   },
                   "end": {
                    "line": 73,
                    "col": 41
                   }
                  }
                 },
                 "attr": "numLegs"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 73,
                  "col": 40
                 },
                 "end": {
                  "line": 73,
                  "col": 41
                 }
                }
               },
               "rhs": {
                "literal": {
                 "i": "0"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 73,
                  "col": 52
                 },
                 "end": {
                  "line": 73,
                  "col": 52
                 }
                }
               }
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 73,
                "col": 40
               },
               "end": {
                "line": 73,
                "col": 52
               }
              }
             }
            ],
            "scopevar": "."
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 73,
             "col": 12
            },
            "end": {
             "line": 73,
             "col": 53
            },
            "text": "numLegs = .table of Pet sum(.numLegs ?? 0)"
           }
          }
         }
        },
        {
         "let": {
          "name": "pp",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 76,
               "col": 21
              },
              "end": {
               "line": 76,
               "col": 31
              }
             }
            },
            "attr": "Pet",
            "setof": true
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 76,
             "col": 12
            },
            "end": {
             "line": 76,
             "col": 31
            },
            "text": "let pp = .table of Pet"
           }
          }
         }
        },
        {
         "let": {
          "name": "bb",
          "expr": {
           "binexpr": {
            "op": "TO_MATCHING",
            "lhs": {
             "name": "pp",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 77,
               "col": 21
              },
              "end": {
               "line": 77,
               "col": 21
              }
             }
            },
            "rhs": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 77,
                 "col": 27
                },
                "end": {
                 "line": 77,
                 "col": 37
                }
               }
              },
              "attr": "Breed",
              "setof": true
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 77,
               "col": 27
              },
              "end": {
               "line": 77,
               "col": 37
              }
             }
            },
            "attrName": [
             "*"
            ]
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 77,
             "col": 12
            },
            "end": {
             "line": 77,
             "col": 37
            },
            "text": "let bb = pp ~> .table of Breed"
           }
          }
         }
        },
        {
         "let": {
          "name": "yy",
          "expr": {
           "binexpr": {
            "op": "TO_NOT_MATCHING",
            "lhs": {
             "name": "pp",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 78,
               "col": 21
              },
              "end": {
               "line": 78,
               "col": 21
              }
             }
            },
            "rhs": {
             "getAttr": {
              "arg": {
               "name": ".",
               "sourceContext": {
                "file": "petshop.sysl",
                "start": {
                 "line": 78,
                 "col": 28
                },
                "end": {
                 "line": 78,
                 "col": 38
                }
               }
              },
              "attr": "Breed",
              "setof": true
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 78,
               "col": 28
              },
              "end": {
               "line": 78,
               "col": 38
              }
             }
            },
            "attrName": [
             "*"
            ]
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 78,
             "col": 12
            },
            "end": {
             "line": 78,
             "col": 38
            },
            "text": "let yy = pp !~> .table of Breed"
           }
          }
         }
        },
        {
         "let": {
          "name": "p",
          "expr": {
           "unexpr": {
            "op": "SINGLE_OR_NULL",
            "arg": {
             "call": {
              "func": ".any",
              "arg": [
               {
                "name": "pp",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 80,
                  "col": 20
                 },
                 "end": {
                  "line": 80,
                  "col": 20
                 }
                }
               },
               {
                "literal": {
                 "i": "1"
                },
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 80,
                  "col": 27
                 },
                 "end": {
                  "line": 80,
                  "col": 27
                 }
                }
               }
              ]
             },
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 80,
               "col": 23
              },
              "end": {
               "line": 80,
               "col": 28
              }
             }
            }
           },
           "type": {
            "noType": {}
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 80,
             "col": 12
            },
            "end": {
             "line": 80,
             "col": 30
            },
            "text": "let p = pp any(1) singleOrNull"
           }
          }
         }
        },
        {
         "let": {
          "name": "b",
          "expr": {
           "navigate": {
            "arg": {
             "name": "p",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 81,
               "col": 20
              },
              "end": {
               "line": 81,
               "col": 20
              }
             }
            },
            "attr": "Breed"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 81,
             "col": 12
            },
            "end": {
             "line": 81,
             "col": 25
            },
            "text": "let b = p -> Breed"
           }
          }
         }
        },
        {
         "let": {
          "name": "pp2",
          "expr": {
           "navigate": {
            "arg": {
             "name": "b",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 82,
               "col": 22
              },
              "end": {
               "line": 82,
               "col": 22
              }
             }
            },
            "attr": "Pet",
            "nullsafe": true,
            "setof": true
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 82,
             "col": 12
            },
            "end": {
             "line": 82,
             "col": 35
            },
            "text": "let pp2 = b ?-> set of Pet"
           }
          }
         }
        }
       ]
      },
      "type": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "PetShopModelToApi"
          ]
         }
        },
        "ref": {
         "appname": {
          "part": [
           "PetShopApi"
          ]
         },
         "path": [
          "PetShop"
         ]
        }
       }
      },
      "sourceContext": {
       "file": "petshop.sysl",
       "start": {
        "line": 68,
        "col": 8
       },
       "end": {
        "line": 84,
        "col": 9
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 67,
       "col": 4
      },
      "end": {
       "line": 86,
       "col": 4
      },
      "text": "!view modelToApi(petshop <: PetShopModel):"
     }
    },
    "petToApi": {
     "param": [
      {
       "name": "pet",
       "type": {
        "set": {
         "typeRef": {
          "ref": {
           "appname": {
            "part": [
             "PetShopModelToApi"
            ]
           },
           "path": [
            "PetRankedByLeg"
           ]
          }
         }
        }
       }
      }
     ],
     "retType": {
      "set": {
       "typeRef": {
        "context": {
         "appname": {
          "part": [
           "PetShopModelToApi"
          ]
         }
        },
        "ref": {
         "appname": {
          "part": [
           "PetShopApi"
          ]
         },
         "path": [
          "Pet"
         ]
        }
       }
      }
     },
     "expr": {
      "transform": {
       "arg": {
        "name": "pet",
        "sourceContext": {
         "file": "petshop.sysl",
         "start": {
          "line": 103,
          "col": 8
         },
         "end": {
          "line": 103,
          "col": 8
         }
        }
       },
       "scopevar": ".",
       "stmt": [
        {
         "assign": {
          "name": "name",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 104,
               "col": 12
              },
              "end": {
               "line": 104,
               "col": 12
              }
             }
            },
            "attr": "name"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 104,
             "col": 12
            },
            "end": {
             "line": 104,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "dob",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 105,
               "col": 12
              },
              "end": {
               "line": 105,
               "col": 12
              }
             }
            },
            "attr": "dob"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 105,
             "col": 12
            },
            "end": {
             "line": 105,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "numLegs",
          "expr": {
           "getAttr": {
            "arg": {
             "name": ".",
             "sourceContext": {
              "file": "petshop.sysl",
              "start": {
               "line": 106,
               "col": 12
              },
              "end": {
               "line": 106,
               "col": 12
              }
             }
            },
            "attr": "numLegs"
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 106,
             "col": 12
            },
            "end": {
             "line": 106,
             "col": 12
            }
           }
          }
         }
        },
        {
         "assign": {
          "name": "legRank",
          "expr": {
           "call": {
            "func": "fibonacci",
            "arg": [
             {
              "getAttr": {
               "arg": {
                "name": ".",
                "sourceContext": {
                 "file": "petshop.sysl",
                 "start": {
                  "line": 107,
                  "col": 32
                 },
                 "end": {
                  "line": 107,
                  "col": 33
                 }
                }
               },
               "attr": "legRank"
              },
              "sourceContext": {
               "file": "petshop.sysl",
               "start": {
                "line": 107,
                "col": 32
               },
               "end": {
                "line": 107,
                "col": 33
               }
              }
             }
            ]
           },
           "sourceContext": {
            "file": "petshop.sysl",
            "start": {
             "line": 107,
             "col": 12
            },
            "end": {
             "line": 107,
             "col": 40
            },
            "text": "legRank = fibonacci(.legRank)"
           }
          }
         }
        }
       ]
      },
      "type": {
       "set": {
        "typeRef": {
         "context": {
          "appname": {
           "part": [
            "PetShopModelToApi"
           ]
          }
         },
         "ref": {
          "appname": {
           "part": [
            "PetShopApi"
           ]
          },
          "path": [
           "Pet"
          ]
         }
        }
       }
      },
      "sourceContext": {
       "file": "petshop.sysl",
       "start": {
        "line": 103,
        "col": 8
       },
       "end": {
        "line": 108,
        "col": 9
       }
      }
     },
     "sourceContext": {
      "file": "petshop.sysl",
      "start": {
       "line": 102,
       "col": 4
      },
      "end": {
       "line": 110,
       "col": 4
      },
      "text": "!view petToApi(pet <: set of PetShopModelToApi.PetRankedByLeg):"
     }
    }
   },
   "sourceContext": {
    "file": "petshop.sysl",
    "start": {
     "line": 66,
     "col": 1
    },
    "end": {
     "line": 66,
     "col": 55
    }
   }
  }
 }
}
